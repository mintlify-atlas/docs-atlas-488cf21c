---
title: String functions
description: Complete reference for Vim's string manipulation functions
---

Vim provides a comprehensive set of functions for string manipulation, from basic operations like length and concatenation to advanced pattern matching and transformation.

## String properties

<AccordionGroup>
  <Accordion title="strlen() - String length">
    Get the byte length of a string.

    ```vim
    strlen({string})
    ```

    <ParamField path="string" type="string" required>
      The string to measure
    </ParamField>

    <ResponseField name="return" type="number">
      The number of bytes in the string
    </ResponseField>

    Examples:
    ```vim
    echo strlen("hello")        " 5
    echo strlen("")             " 0
    echo strlen("hello\nworld") " 11 (includes newline)
    ```

    See also: `strchars()` for character count, `strwidth()` for display width
  </Accordion>

  <Accordion title="strchars() - Character count">
    Get the number of characters (not bytes) in a string.

    ```vim
    strchars({string} [, {skipcc}])
    ```

    <ParamField path="string" type="string" required>
      The string to measure
    </ParamField>

    <ParamField path="skipcc" type="number">
      If true, skip composing characters
    </ParamField>

    <ResponseField name="return" type="number">
      The number of characters
    </ResponseField>

    Examples:
    ```vim
    echo strchars("hello")      " 5
    echo strchars("äöü")        " 3 (multi-byte chars)
    ```
  </Accordion>

  <Accordion title="strwidth() - Display width">
    Get the display width of a string.

    ```vim
    strwidth({string})
    ```

    <ResponseField name="return" type="number">
      The display width in screen cells
    </ResponseField>

    Examples:
    ```vim
    echo strwidth("hello")      " 5
    echo strwidth("\t")         " Depends on 'tabstop'
    echo strwidth("中文")      " 4 (double-width characters)
    ```
  </Accordion>

  <Accordion title="empty() - Check if empty">
    Check if a string is empty.

    ```vim
    empty({string})
    ```

    <ResponseField name="return" type="number">
      1 if empty, 0 otherwise
    </ResponseField>

    Examples:
    ```vim
    echo empty("")              " 1
    echo empty("hello")         " 0
    echo empty(" ")             " 0 (space is not empty)
    ```
  </Accordion>
</AccordionGroup>

## String extraction

<AccordionGroup>
  <Accordion title="strpart() - Extract substring">
    Extract part of a string by byte or character index.

    ```vim
    strpart({string}, {start} [, {len} [, {chars}]])
    ```

    <ParamField path="string" type="string" required>
      The source string
    </ParamField>

    <ParamField path="start" type="number" required>
      Starting position (0-based)
    </ParamField>

    <ParamField path="len" type="number">
      Length to extract (default: to end)
    </ParamField>

    <ParamField path="chars" type="boolean">
      If true, use character index instead of byte index
    </ParamField>

    <ResponseField name="return" type="string">
      The extracted substring
    </ResponseField>

    Examples:
    ```vim
    echo strpart("hello", 0, 2)     " "he"
    echo strpart("hello", 2)        " "llo"
    echo strpart("hello", -2)       " "lo" (negative = from end)
    ```
  </Accordion>

  <Accordion title="strcharpart() - Extract by character">
    Extract substring by character index (handles multi-byte).

    ```vim
    strcharpart({string}, {start} [, {len} [, {skipcc}]])
    ```

    Examples:
    ```vim
    echo strcharpart("hello", 1, 3)   " "ell"
    echo strcharpart("中文测试", 1, 2) " Second and third characters
    ```
  </Accordion>

  <Accordion title="slice() - Extract slice">
    Extract a slice using Python-like syntax.

    ```vim
    slice({string}, {start} [, {end}])
    ```

    <ParamField path="start" type="number" required>
      Start index (inclusive)
    </ParamField>

    <ParamField path="end" type="number">
      End index (exclusive)
    </ParamField>

    Examples:
    ```vim
    echo slice("hello", 1, 4)       " "ell"
    echo slice("hello", 2, -1)      " "ll"
    echo slice("hello", 2)          " "llo"
    ```
  </Accordion>
</AccordionGroup>

## String searching

<AccordionGroup>
  <Accordion title="stridx() - Find substring">
    Find the first occurrence of a substring.

    ```vim
    stridx({haystack}, {needle} [, {start}])
    ```

    <ParamField path="haystack" type="string" required>
      String to search in
    </ParamField>

    <ParamField path="needle" type="string" required>
      String to search for
    </ParamField>

    <ParamField path="start" type="number">
      Start position for search
    </ParamField>

    <ResponseField name="return" type="number">
      Index of first occurrence, or -1 if not found
    </ResponseField>

    Examples:
    ```vim
    echo stridx("hello world", "wo")    " 6
    echo stridx("hello world", "x")     " -1
    echo stridx("hello hello", "lo", 5) " 9
    ```
  </Accordion>

  <Accordion title="strridx() - Find last occurrence">
    Find the last occurrence of a substring.

    ```vim
    strridx({haystack}, {needle} [, {end}])
    ```

    Examples:
    ```vim
    echo strridx("hello hello", "lo")   " 9 (last occurrence)
    echo strridx("path/to/file", "/")   " 7 (last /)
    ```
  </Accordion>

  <Accordion title="match() - Pattern matching">
    Find first match of a pattern.

    ```vim
    match({string}, {pattern} [, {start} [, {count}]])
    ```

    <ParamField path="pattern" type="string" required>
      Regular expression pattern
    </ParamField>

    <ResponseField name="return" type="number">
      Index of first match, or -1 if not found
    </ResponseField>

    Examples:
    ```vim
    echo match("hello 123", "\\d\\+")     " 6
    echo match("abc123def", "[a-z]\\+")  " 0
    ```
  </Accordion>

  <Accordion title="matchstr() - Extract match">
    Extract the matched string.

    ```vim
    matchstr({string}, {pattern} [, {start} [, {count}]])
    ```

    <ResponseField name="return" type="string">
      The matched string, or empty if not found
    </ResponseField>

    Examples:
    ```vim
    echo matchstr("hello 123", "\\d\\+")   " "123"
    echo matchstr("foo bar", "\\w\\+")    " "foo"
    ```
  </Accordion>

  <Accordion title="matchlist() - Match with groups">
    Match pattern and return list with captured groups.

    ```vim
    matchlist({string}, {pattern} [, {start} [, {count}]])
    ```

    <ResponseField name="return" type="list">
      List where [0] is full match, [1-9] are captured groups
    </ResponseField>

    Examples:
    ```vim
    let m = matchlist("foo 123 bar", '\(\w\+\) \(\d\+\)')
    echo m[0]  " "foo 123"
    echo m[1]  " "foo"
    echo m[2]  " "123"
    ```
  </Accordion>
</AccordionGroup>

## String transformation

<AccordionGroup>
  <Accordion title="substitute() - Search and replace">
    Replace pattern matches in a string.

    ```vim
    substitute({string}, {pattern}, {replacement}, {flags})
    ```

    <ParamField path="string" type="string" required>
      String to operate on
    </ParamField>

    <ParamField path="pattern" type="string" required>
      Pattern to search for
    </ParamField>

    <ParamField path="replacement" type="string" required>
      Replacement text
    </ParamField>

    <ParamField path="flags" type="string" required>
      Flags: 'g' for all matches, '' for first match only
    </ParamField>

    <ResponseField name="return" type="string">
      The string with replacements made
    </ResponseField>

    Examples:
    ```vim
    echo substitute("hello world", "world", "vim", "")   " "hello vim"
    echo substitute("a b a b", "a", "x", "g")            " "x b x b"
    echo substitute("Test", ".", "&-", "g")              " "T-e-s-t-"
    ```
  </Accordion>

  <Accordion title="toupper() - Convert to uppercase">
    Convert string to uppercase.

    ```vim
    toupper({string})
    ```

    <ResponseField name="return" type="string">
      String converted to uppercase
    </ResponseField>

    Examples:
    ```vim
    echo toupper("hello")       " "HELLO"
    echo toupper("Hello World") " "HELLO WORLD"
    ```
  </Accordion>

  <Accordion title="tolower() - Convert to lowercase">
    Convert string to lowercase.

    ```vim
    tolower({string})
    ```

    <ResponseField name="return" type="string">
      String converted to lowercase
    </ResponseField>

    Examples:
    ```vim
    echo tolower("HELLO")       " "hello"
    echo tolower("Hello World") " "hello world"
    ```
  </Accordion>

  <Accordion title="tr() - Translate characters">
    Translate characters like the tr command.

    ```vim
    tr({string}, {fromstr}, {tostr})
    ```

    <ParamField path="fromstr" type="string" required>
      Characters to replace
    </ParamField>

    <ParamField path="tostr" type="string" required>
      Replacement characters
    </ParamField>

    Examples:
    ```vim
    echo tr("hello", "el", "ip")       " "hippo"
    echo tr("123", "123", "abc")       " "abc"
    echo tr("AaBbCc", "ABC", "abc")    " "aabbcc"
    ```
  </Accordion>

  <Accordion title="trim() - Remove whitespace">
    Remove whitespace from string ends.

    ```vim
    trim({string} [, {mask} [, {dir}]])
    ```

    <ParamField path="mask" type="string">
      Characters to remove (default: whitespace)
    </ParamField>

    <ParamField path="dir" type="number">
      0=both ends, 1=start only, 2=end only
    </ParamField>

    Examples:
    ```vim
    echo trim("  hello  ")          " "hello"
    echo trim("xxhelloxx", "x")    " "hello"
    echo trim("  hello  ", "", 1)  " "hello  " (start only)
    ```
  </Accordion>

  <Accordion title="repeat() - Repeat string">
    Repeat a string n times.

    ```vim
    repeat({string}, {count})
    ```

    <ParamField path="count" type="number" required>
      Number of repetitions
    </ParamField>

    Examples:
    ```vim
    echo repeat("ab", 3)        " "ababab"
    echo repeat("-", 10)        " "----------"
    ```
  </Accordion>
</AccordionGroup>

## String splitting and joining

<AccordionGroup>
  <Accordion title="split() - Split into list">
    Split string into a list.

    ```vim
    split({string} [, {pattern} [, {keepempty}]])
    ```

    <ParamField path="pattern" type="string">
      Split pattern (default: whitespace)
    </ParamField>

    <ParamField path="keepempty" type="boolean">
      Keep empty strings in result
    </ParamField>

    <ResponseField name="return" type="list">
      List of strings
    </ResponseField>

    Examples:
    ```vim
    echo split("one two three")           " ['one', 'two', 'three']
    echo split("a,b,c", ",")             " ['a', 'b', 'c']
    echo split("a,,b", ",", 1)           " ['a', '', 'b']
    ```
  </Accordion>

  <Accordion title="join() - Join list into string">
    Join list elements into a string.

    ```vim
    join({list} [, {separator}])
    ```

    <ParamField path="list" type="list" required>
      List to join
    </ParamField>

    <ParamField path="separator" type="string">
      Separator string (default: space)
    </ParamField>

    <ResponseField name="return" type="string">
      Joined string
    </ResponseField>

    Examples:
    ```vim
    echo join(['a', 'b', 'c'])          " "a b c"
    echo join(['a', 'b', 'c'], ',')     " "a,b,c"
    echo join(['foo', 'bar'], ' - ')    " "foo - bar"
    ```
  </Accordion>
</AccordionGroup>

## String formatting

<Accordion title="printf() - Format string">
  Create formatted string (C-style).

  ```vim
  printf({format}, {expr1}, ...)
  ```

  <ParamField path="format" type="string" required>
    Format string with placeholders
  </ParamField>

  Common format specifiers:
  - `%s` - String
  - `%d` - Decimal integer
  - `%x` - Hexadecimal
  - `%f` - Float
  - `%.*s` - String with max width

  <ResponseField name="return" type="string">
    Formatted string
  </ResponseField>

  Examples:
  ```vim
  echo printf("Hello %s", "World")         " "Hello World"
  echo printf("%d items", 42)              " "42 items"
  echo printf("%04d", 7)                   " "0007"
  echo printf("%.2f", 3.14159)             " "3.14"
  echo printf("%s: %d", "count", 10)       " "count: 10"
  ```
</Accordion>

## String comparison

```vim
" Case-sensitive comparison
if str1 ==# str2
  echo "Equal (case-sensitive)"
endif

" Case-insensitive comparison  
if str1 ==? str2
  echo "Equal (case-insensitive)"
endif

" Depends on 'ignorecase' setting
if str1 == str2
  echo "Equal"
endif
```

## String conversion

```vim
" Number to string
let str = string(123)           " "123"

" String to number
let num = str2nr("123")         " 123
let num = str2nr("0xFF")        " 255 (hex)
let num = str2nr("0b1010")      " 10 (binary)

" String to float
let f = str2float("3.14")       " 3.14

" List to string
let str = string([1, 2, 3])     " "[1, 2, 3]"
```